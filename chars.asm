*= $0600

screen = $0200
curpos = $00f0
ch_w = 6

ldy #0
loop:

 clc
 lda #<screen
 adc curpos
 sta 0
 lda #>screen
 sta 1

 lda napis,y
 beq end
 
; kopiuj adres znaku w A do $02

 ldx #<charset
 stx 2
 ldx #>charset
 stx 3

 sec
 sbc #$20 ; first char - space
 tax
 beq ch_adr_done

ch_adr:
 lda $2
 clc
 adc #36
 sta $2
 lda $3
 adc #0
 sta $3
 dex
 bne ch_adr

ch_adr_done:
 jsr draw
 iny
 jmp loop

end:
 brk

draw:
 txa
 pha
 tya
 pha
 ldx #6
 ldy #0
npix:
 lda (2),y
 sta (0),y
 iny
 cpy #36
 beq drawend
 
 dex
 bne npix

nrow:
 ldx #6
 lda 0
 clc
 adc #26
 sta 0
 bcc npix
 inc 1
 jmp npix

drawend:
 pla
 tay
 pla
 tax
 lda curpos
 adc #5 ; ch_w-1
 sta curpos
 rts

brk

napis:
 .asc "M6502"

charset:

; 0x20 space
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
; 0x21
 .byt 0,0,1,0,0,0
 .byt 0,0,1,0,0,0
 .byt 0,0,1,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,1,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
; * 0x2A
 .byt 1,0,1,0,1,0
 .byt 0,1,1,1,0,0
 .byt 1,0,1,0,1,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
; 0 0x30
 .byt 0,1,1,1,0,0
 .byt 1,0,0,0,1,0
 .byt 1,0,1,0,1,0
 .byt 1,0,0,0,1,0
 .byt 0,1,1,1,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,1,0,0
 .byt 0,0,1,1,0,0
 .byt 0,0,0,1,0,0
 .byt 0,0,0,1,0,0
 .byt 0,0,1,1,1,0
 .byt 0,0,0,0,0,0
;
 .byt 0,1,1,1,0,0
 .byt 0,0,0,0,1,0
 .byt 0,1,1,1,0,0
 .byt 1,0,0,0,0,0
 .byt 1,1,1,1,1,0
 .byt 0,0,0,0,0,0
; 3
 .byt 0,1,1,1,0,0
 .byt 1,0,0,0,1,0
 .byt 0,0,1,1,0,0
 .byt 1,0,0,0,1,0
 .byt 0,1,1,1,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,1,1,0,0
 .byt 0,1,0,1,0,0
 .byt 1,0,0,1,0,0
 .byt 1,1,1,1,1,0
 .byt 0,0,0,1,0,0
 .byt 0,0,0,0,0,0
;
 .byt 1,1,1,1,1,0
 .byt 1,0,0,0,0,0
 .byt 1,1,1,1,0,0
 .byt 0,0,0,0,1,0
 .byt 1,1,1,1,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,1,1,1,0,0
 .byt 1,0,0,0,0,0
 .byt 1,1,1,1,0,0
 .byt 1,0,0,0,1,0
 .byt 0,1,1,1,0,0
 .byt 0,0,0,0,0,0
;
 .byt 1,1,1,1,1,0
 .byt 0,0,0,0,1,0
 .byt 0,0,0,1,0,0
 .byt 0,0,1,0,0,0
 .byt 0,0,1,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,1,1,1,0,0
 .byt 1,0,0,0,1,0
 .byt 0,1,1,1,0,0
 .byt 1,0,0,0,1,0
 .byt 0,1,1,1,0,0
 .byt 0,0,0,0,0,0
; 9 0x39
 .byt 0,1,1,1,0,0
 .byt 1,0,0,0,1,0
 .byt 0,1,1,1,1,0
 .byt 0,0,0,0,1,0
 .byt 0,1,1,1,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0

; 0x40
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0

; A 0x41
 .byt 0,1,1,1,0,0
 .byt 1,0,0,0,1,0
 .byt 1,0,0,0,1,0
 .byt 1,1,1,1,1,0
 .byt 1,0,0,0,1,0
 .byt 0,0,0,0,0,0
; B
 .byt 1,1,1,1,0,0
 .byt 1,0,0,0,1,0
 .byt 1,1,1,1,0,0
 .byt 1,0,0,0,1,0
 .byt 1,1,1,1,0,0
 .byt 0,0,0,0,0,0
; C
 .byt 0,1,1,1,0,0
 .byt 1,0,0,0,1,0
 .byt 1,0,0,0,0,0
 .byt 1,0,0,0,1,0
 .byt 0,1,1,1,0,0
 .byt 0,0,0,0,0,0
; D
 .byt 1,1,1,1,0,0
 .byt 1,0,0,0,1,0
 .byt 1,0,0,0,1,0
 .byt 1,0,0,0,1,0
 .byt 1,1,1,1,0,0
 .byt 0,0,0,0,0,0
; E
 .byt 1,1,1,1,1,0
 .byt 1,0,0,0,0,0
 .byt 1,1,1,1,0,0
 .byt 1,0,0,0,0,0
 .byt 1,1,1,1,1,0
 .byt 0,0,0,0,0,0
; F 
 .byt 1,1,1,1,1,0
 .byt 1,0,0,0,0,0
 .byt 1,1,1,1,0,0
 .byt 1,0,0,0,0,0
 .byt 1,0,0,0,0,0
 .byt 0,0,0,0,0,0
; G
 .byt 0,1,1,1,1,0
 .byt 1,0,0,0,0,0
 .byt 1,0,1,1,1,0
 .byt 1,0,0,0,1,0
 .byt 0,1,1,1,0,0
 .byt 0,0,0,0,0,0
; H
 .byt 1,0,0,0,1,0
 .byt 1,0,0,0,1,0
 .byt 1,1,1,1,1,0
 .byt 1,0,0,0,1,0
 .byt 1,0,0,0,1,0
 .byt 0,0,0,0,0,0
; I
 .byt 0,1,1,1,0,0
 .byt 0,0,1,0,0,0
 .byt 0,0,1,0,0,0
 .byt 0,0,1,0,0,0
 .byt 0,1,1,1,0,0
 .byt 0,0,0,0,0,0
; J
 .byt 0,0,0,0,1,0
 .byt 0,0,0,0,1,0
 .byt 0,0,0,0,1,0
 .byt 1,0,0,0,1,0
 .byt 0,1,1,1,0,0
 .byt 0,0,0,0,0,0
; K
 .byt 1,0,0,1,0,0
 .byt 1,0,1,0,0,0
 .byt 1,1,1,0,0,0
 .byt 1,0,0,1,0,0
 .byt 1,0,0,0,1,0
 .byt 0,0,0,0,0,0
; L
 .byt 1,0,0,0,0,0
 .byt 1,0,0,0,0,0
 .byt 1,0,0,0,0,0
 .byt 1,0,0,0,0,0
 .byt 1,1,1,1,1,0
 .byt 0,0,0,0,0,0
; M
 .byt 1,0,0,0,1,0
 .byt 1,1,0,1,1,0
 .byt 1,0,1,0,1,0
 .byt 1,0,0,0,1,0
 .byt 1,0,0,0,1,0
 .byt 0,0,0,0,0,0
; N
 .byt 1,0,0,0,1,0
 .byt 1,1,0,0,1,0
 .byt 1,0,1,0,1,0
 .byt 1,0,0,1,1,0
 .byt 1,0,0,0,1,0
 .byt 0,0,0,0,0,0
; O
 .byt 0,1,1,1,0,0
 .byt 1,0,0,0,1,0
 .byt 1,0,0,0,1,0
 .byt 1,0,0,0,1,0
 .byt 0,1,1,1,0,0
 .byt 0,0,0,0,0,0
; P
 .byt 1,1,1,1,0,0
 .byt 1,0,0,0,1,0
 .byt 1,0,0,0,1,0
 .byt 1,1,1,1,0,0
 .byt 1,0,0,0,0,0
 .byt 0,0,0,0,0,0
; Q
 .byt 0,1,1,1,0,0
 .byt 1,0,0,0,1,0
 .byt 1,0,1,0,1,0
 .byt 1,0,0,1,1,0
 .byt 0,1,1,1,1,0
 .byt 0,0,0,0,0,0
; R
 .byt 1,1,1,1,0,0
 .byt 1,0,0,0,1,0
 .byt 1,0,0,0,1,0
 .byt 1,1,1,1,0,0
 .byt 1,0,0,0,1,0
 .byt 0,0,0,0,0,0
; S
 .byt 0,1,1,1,0,0
 .byt 1,0,0,0,0,0
 .byt 0,1,1,1,0,0
 .byt 0,0,0,0,1,0
 .byt 1,1,1,1,0,0
 .byt 0,0,0,0,0,0
; T
 .byt 1,1,1,1,1,0
 .byt 0,0,1,0,0,0
 .byt 0,0,1,0,0,0
 .byt 0,0,1,0,0,0
 .byt 0,0,1,0,0,0
 .byt 0,0,0,0,0,0
; U 
 .byt 1,0,0,0,1,0
 .byt 1,0,0,0,1,0
 .byt 1,0,0,0,1,0
 .byt 1,0,0,0,1,0
 .byt 0,1,1,1,0,0
 .byt 0,0,0,0,0,0
; V
 .byt 1,0,0,0,1,0
 .byt 1,0,0,0,1,0
 .byt 1,0,0,0,1,0
 .byt 0,1,0,1,0,0
 .byt 0,0,1,0,0,0
 .byt 0,0,0,0,0,0
; W
 .byt 1,0,0,0,1,0
 .byt 1,0,0,0,1,0
 .byt 1,0,1,0,1,0
 .byt 1,1,0,1,1,0
 .byt 1,0,0,0,1,0
 .byt 0,0,0,0,0,0
; X
 .byt 1,0,0,0,1,0
 .byt 0,1,0,1,0,0
 .byt 0,0,1,0,0,0
 .byt 0,1,0,1,0,0
 .byt 1,0,0,0,1,0
 .byt 0,0,0,0,0,0
; Y
 .byt 1,0,0,0,1,0
 .byt 1,0,0,0,1,0
 .byt 0,1,1,1,0,0
 .byt 0,0,1,0,0,0
 .byt 0,0,1,0,0,0
 .byt 0,0,0,0,0,0
; Z
 .byt 1,1,1,1,1,0
 .byt 0,0,0,1,0,0
 .byt 0,0,1,0,0,0
 .byt 0,1,0,0,0,0
 .byt 1,1,1,1,1,0
 .byt 0,0,0,0,0,0
;
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
 .byt 0,0,0,0,0,0
  
